---
export interface Props {
  chapter: any;
  page: number;
}

const { chapter, page } = Astro.props;

function getNarrationContent(ch: any, p: number): { hasNarration: boolean; narration: string } {
  // Special content for Bard's Quest first page
  if (ch.id === 1) {
    if (p === 1) return {
      hasNarration: true,
      narration: `A young man stands in his bedroom. It just so happens that today, the 13th of April, 2026, is this young man's birthday. Though it was thirteen years ago he was given life, it is only today he will be given a name!\n\nWhat will the name of this young man be?`
    };
    if (p === 2) return {
      hasNarration: true,
      narration: `Well that was strange, looks like for some reason you can't enter a name. In fact, where did he go in general?`
    };
    if (p === 3) return {
      hasNarration: true,
      narration: `There he is, hey wait a minute, something isn't right...`
    };
    if (p === 4) return {
      hasNarration: true,
      narration: 'And there is goes again, man the story just started and its already broken? What an awaful story. You should demand a refund!'
    };
    if (p === 5) return {
      hasNarration: true,
      narration: 'Well its back again, but again at what point are you at is anyones guess.'
    };
    if (p === 6) return {
      hasNarration: true,
      narration: 'And there it goes again. Lets just try again with someone else, as it seems focusing on that guy just keeps breaking the story.'
    };
    if (p === 7) return {
      hasNarration: true,
      narration: "Well looks like we're back! And whoever this is looks way better then that last guy!\n\n But wait, this isn't right, did we miss something?\n\nIt looks like we've moved very far foward in the story now. Oh well, not like anyone likes the start of these advetures anyways, I hear they tend to be real boring."
    };

    if (p === 8) return {
      hasNarration: true,
      narration: "This is Opal. Hopefully she doesn't break the game like the other guy did. Would you like to play as her? Thats a joke, you are getting a choice, not yet anyhow."
    };

    if (p === 9) return {
      hasNarration: true,
      narration: "Your name is Opal, you are the Hero of Space, a lot has happened and your journey is nearly over. Your team of 4 who all found themselves awakened on the moon of prospit, are almost ready to face the final boss of your game session, the black king. \n You have just finished discussing the caviots to facing this final boss with the other team who all awoke on the moon of derse where you currently are."
    };
    if (p === 10) return {
      hasNarration: true,
      narration: "You are likely now the most important player in your group. Alexis might be the strongest but your role will decide whether or not the goal of your group is successful in the creation of a new universe to replace the one that was destroyed through starting the game. \nThe other team's job will be to fight the black queen who is here right now on derse, but not for long. Once both enemies are defeated your role will be to finish the creation of the new universe."
    };
    if (p === 11) return {
      hasNarration: true,
      narration: "Your team used to be covered in golden pijamas just like how they are all wearing purple like the walls of derse, but now your team all wears their own special costums to represent the heros you all are respectively. \nNow you need to just rap up talking to everyone and then you can leave to be on your way."
    };
    
  }
  
  // Add more special narration cases here as needed
  // if (ch.id === 1 && p === 3) { ... }
  
  // Default: no narration
  return {
    hasNarration: false,
    narration: ''
  };
}

const content = getNarrationContent(chapter, page);
---

{content.hasNarration && (
  <div class="mspa-narration">
    {content.narration.split('\n\n').map(paragraph => (
      <p>{paragraph}</p>
    ))}
  </div>
)}